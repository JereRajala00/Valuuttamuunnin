<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
          integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
          crossorigin=""/>
    <link rel="stylesheet" href="valikot.css">
    <title>Valuuttamuunnin PRO</title>

</head>
<body>
<div class="container">
        <header>Valuuttamuunnin PRO
            <p>Rahaa!</p>
        </header>

    <article class="main">
        <div class="currencyInput">
            <input id="euro" type="number" placeholder="EUR">
        </div>
        <select name="drop1" id="Currency1">
            <option id="testi" value="eur1">EUR</option>
            <option value="usd1">USD</option>
            <option value="aud1">AUD</option>
            <option value="cad1">CAD</option>
        </select>
        <button id="swap" onclick="swap()"><img src="swapmini.png"> </button>
        <select name="drop2" id="Currency2">
            <option value="eur2">EUR</option>
            <option value="usd2">USD</option>
            <option value="aud2">AUD</option>
            <option value="cad2">CAD</option>
        </select>

        <div class="button">
            <button id="convert">Convert</button>
        </div>
    </article>

</div>

<script>
  // Author of this script: Jere
  // Fetch the currency data from open API offered by Central Bank of Europe
  var currencyData
  fetch('https://api.exchangeratesapi.io/latest')
  .then(function(response) {
    return response.json();
  }).then(function(json) {
    currencyData = json;
    console.log(currencyData);
  }).catch(function(error) {
    console.log(error);
  });
  // Hae data currencyData-muuttujasta syntaksilla currencyData.rates['USD']
</script>

<!-- haetaan käyttäjän paikkatiedot ja näytetään ne OpenStreetMapin ja Leaflet.js:n avulla -->
<div id="map" style="width: 100%; height: 400px;">
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
            integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
            crossorigin=""></script>
    <script src="map.js"></script>
</div>

<footer>
<p id="kello">
    <script>
      let time;
      const p = document.querySelector('#kello');
      function updateTime() {
        time = new Date();
        p.innerHTML = "Päiväys on: " + time.toLocaleString() + "<br/>Kurssit päivitetty:" + currencyData.date;
      }
      setInterval(updateTime, 1000);
    </script>
</p>
</footer>

</body>
</html>